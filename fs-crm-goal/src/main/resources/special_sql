RuleFilter:SELECT DISTINCT M ."id" AS goal_rule_id, M ."name" AS goal_rule_name, M .count_fiscal_year AS fiscal_year, D. ID AS goal_rule_detail_id, D.subgoal_name AS goal_rule_detail_name FROM goal_rule AS M INNER JOIN goal_rule_apply_circle AS C ON M.tenant_id=C.tenant_id AND M."id"=C.goal_rule_id AND C.is_deleted=0 LEFT JOIN goal_rule_detail AS D ON M .tenant_id = D.tenant_id AND M ."id" = D.goal_rule_id AND D.is_deleted = 0 WHERE M .tenant_id = {0} AND M.status=''1'' AND M .is_deleted = 0 AND C.apply_circle_id IN ({1})
GetGoalRuleListSql:SELECT  count(1) OVER () AS total_number,a.id AS goal_rule_id, a.name AS goal_rule_id__r, a.count_fiscal_year,b.id AS goal_rule_detail_id,b.subgoal_name AS goal_rule_detail_id__r, a.last_modified_by, a.last_modified_time FROM goal_rule AS A LEFT JOIN goal_rule_detail AS B ON a.tenant_id = b.tenant_id AND a.id = b.goal_rule_id AND b.is_deleted = 0 INNER JOIN (SELECT DISTINCT c.tenant_id, c.goal_rule_id FROM goal_rule_apply_circle AS C WHERE c.tenant_id ={1} AND c.is_deleted=0 AND c.apply_circle_id IN ({0})) AS D ON a.tenant_id = d.tenant_id AND a.id = d.goal_rule_id WHERE a.tenant_id = {1} AND a.status=''1'' AND a.is_deleted=0 {2} {3} {4};